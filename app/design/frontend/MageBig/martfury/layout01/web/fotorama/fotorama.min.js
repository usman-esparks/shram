fotoramaVersion="4.6.4",function(xn,Cn,t,kn,Pn){"use strict";var Sn="fotorama",Tn="fotorama__fullscreen",Fn=Sn+"__wrap",Mn=Fn+"--video",En=Sn+"__stage",$n=En+"__frame",jn=Sn+"__grab",zn=Sn+"__arr",qn=zn+"--disabled",Nn=Sn+"__nav",An=Nn+"-wrap",In=An+"--vertical",Ln=An+"--list",On=An+"--horizontal",Rn=Nn+"--dots",Dn=Nn+"--thumbs",Wn=Nn+"__frame",n=Sn+"__fade",Kn=n+"-front",Hn=n+"-rear",Bn="fotorama__shadows",Qn=Sn+"__active",Vn=Sn+"__select",Xn=Sn+"--fullscreen",Yn=Sn+"__error",Jn=Sn+"__loading",Un=Sn+"__loaded",A=Sn+"__grabbing",Gn=Sn+"__img",Zn=Gn+"--full",te=Sn+"__video",ne=te+"-play",a=Sn+"_horizontal_ratio",o=Sn+"_vertical_ratio",ee=Sn+"__spinner",e=kn&&kn.fn.jquery.split(".");if(!e||e[0]<1||1==e[0]&&e[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var ae={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},i="webkit moz o ms khtml".split(" ");if(void 0!==Cn.cancelFullScreen)ae.ok=!0;else for(var r=0,s=i.length;r<s;r++)if(ae.prefix=i[r],void 0!==Cn[ae.prefix+"CancelFullScreen"]){ae.ok=!0;break}ae.ok&&(ae.event=ae.prefix+"fullscreenchange",ae.is=function(){switch(this.prefix){case"":return Cn.fullScreen;case"webkit":return Cn.webkitIsFullScreen;default:return Cn[this.prefix+"FullScreen"]}},ae.request=function(t){return""===this.prefix?t.requestFullScreen():t[this.prefix+"RequestFullScreen"]()},ae.cancel=function(t){return!!this.is()&&(""===this.prefix?Cn.cancelFullScreen():Cn[this.prefix+"CancelFullScreen"]())});var oe,ie,u,l,re=kn(xn),se=kn(Cn),c=Cn.createElement("div"),d="quirks"===t.hash.replace("#",""),h="p"+(l="erspective")in(u=c.style)||"WebkitP"+l in u||"MozP"+l in u||"OP"+l in u||"msP"+l in u,ue=h&&!d,le=(h||Cn.compatMode,ae.ok),f=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),ce=!ue||f,de=navigator.msPointerEnabled,m="onwheel"in Cn.createElement("div")?"wheel":Cn.onmousewheel!==Pn?"mousewheel":"DOMMouseScroll",he="$stageFrame",fe="$navDotFrame",me="$navThumbFrame",v=function(i){var t="bez_"+kn.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof kn.easing[t]){var r=function(e,a){function i(t,n){return u[n]=3*e[n],s[n]=3*(a[n]-e[n])-u[n],r[n]=1-u[n]-s[n],t*(u[n]+t*(s[n]+t*r[n]))}var r=[null,null],s=[null,null],u=[null,null];return function(t){return i(function(t){for(var n,e,a=t,o=0;++o<14&&(n=i(a,0)-t,!(Math.abs(n)<.001));)a-=n/(e=a,u[0]+e*(2*s[0]+3*r[0]*e));return a}(t),1)}};kn.easing[t]=function(t,n,e,a,o){return a*r([i[0],i[1]],[i[2],i[3]])(n/o)+e}}return t}([.1,0,.25,1]),ve=1,p={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:64,thumbheight:64,thumbmargin:2,thumbborderwidth:2,allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:300,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:"ltr",shadows:!0,showcaption:!0,navdir:"horizontal",navarrows:!0,navtype:"thumbs"},pe={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};function ge(){}function we(t,n,e){return Math.max(isNaN(n)?-1/0:n,Math.min(isNaN(e)?1/0:e,t))}function be(t,n){return ue?+function(t,n){return t.match(/ma/)&&t.match(/-?\d+(?!d)/g)[t.match(/3d/)?"vertical"===n?13:12:"vertical"===n?5:4]}(t.css("transform"),n):+t.css("vertical"===n?"top":"left").replace("px","")}function _e(t,n){var e={};if(ue)switch(n){case"vertical":e.transform="translate3d(0, "+t+"px,0)";break;case"list":break;default:e.transform="translate3d("+t+"px,0,0)"}else"vertical"===n?e.top=t:e.left=t;return e}function ye(t){return{"transition-duration":t+"ms"}}function g(t,n){return isNaN(t)?n:t}function xe(t,n){return g(+String(t).replace(n||"px",""))}function Ce(t,n){return g(function(t){return/%$/.test(t)?xe(t,"%"):Pn}(t)/100*n,xe(t))}function ke(t){return(!isNaN(xe(t))||!isNaN(xe(t,"%")))&&t}function Pe(t,n,e,a){return(t-(a||0))*(n+(e||0))}function w(t){var n=t.data();if(!n.tEnd){t[0];_(t[0],function(){var t,n={transition:"transitionend",msTransition:"MSTransitionEnd",OTransition:"oTransitionEnd otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(c.style[t]!==Pn)return n[t]}(),function(t){n.tProp&&t.propertyName.match(n.tProp)&&n.onEndFn()}),n.tEnd=!0}}function Se(t,n){var e=t.navdir||"horizontal";if(t.length){var a=t.data();ue?(t.css(ye(0)),a.onEndFn=ge,clearTimeout(a.tT)):t.stop();var o=Te(n,function(){return be(t,e)});return t.css(_e(o,e)),o}}function Te(){for(var t,n=0,e=arguments.length;n<e&&"number"!=typeof(t=n?arguments[n]():arguments[n]);n++);return t}function b(t,n){return Math.round(t+(n-t)/1.5)}function Fe(){return Fe.p=Fe.p||("https:"===t.protocol?"https://":"http://")}function Me(t,n){if("string"!=typeof t)return t;var e,a;if((t=function(t){var n=Cn.createElement("a");return n.href=t,n}(t)).host.match(/youtube\.com/)&&t.search){if(e=t.search.split("v=")[1]){var o=e.indexOf("&");-1!==o&&(e=e.substring(0,o)),a="youtube"}}else t.host.match(/youtube\.com|youtu\.be|youtube-nocookie.com/)?(e=t.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),a="youtube"):t.host.match(/vimeo\.com/)&&(a="vimeo",e=t.pathname.replace(/^\/(\w+\/)*/,"").replace(/\/.*/,""));return e&&a||!n||(e=t.href,a="custom"),!!e&&{id:e,type:a,s:t.search.replace(/^\?/,""),p:Fe()}}function Ee(t,n,e,a){for(var o=0,i=t.length;o<i;o++){var r=t[o];if(r.i===e&&r.thumbsReady){var s={videoReady:!0};s[he]=s[me]=s[fe]=!1,a.splice(o,1,kn.extend({},r,s,n));break}}}function $e(t){var e=[];function l(t,n,e){var a=e.thumb&&e.img!==e.thumb,o=xe(e.width||t.attr("width")),i=xe(e.height||t.attr("height"));kn.extend(e,{width:o,height:i,thumbratio:We(e.thumbratio||xe(e.thumbwidth||n&&n.attr("width")||a||o)/xe(e.thumbheight||n&&n.attr("height")||a||i))})}return t.children().each(function(){var t=kn(this),n=De(kn.extend(t.data(),{id:t.attr("id")}));if(t.is("a, img"))!function(t,n,e){var a=t.children("img").eq(0),o=t.attr("href"),i=t.attr("src"),r=a.attr("src"),s=n.video,u=!!e&&Me(o,!0===s);u?o=!1:u=s,l(t,a,kn.extend(n,{video:u,img:n.img||o||i||r,thumb:n.thumb||r||i||o}))}(t,n,!0);else{if(t.is(":empty"))return;l(t,null,kn.extend(n,{html:this,_html:t.html()}))}e.push(n)}),e}function je(t,n,e,a){return je.i||(je.i=1,je.ii=[!0]),void 0===je.ii[a=a||je.i]&&(je.ii[a]=!0),t()?n():je.ii[a]&&setTimeout(function(){je.ii[a]&&je(t,n,e,a)},e||100),je.i++}function ze(t,n){var e=t.data(),a=e.measures;if(a&&(!e.l||e.l.W!==a.width||e.l.H!==a.height||e.l.r!==a.ratio||e.l.w!==n.w||e.l.h!==n.h)){var o=we(n.h,0,a.height),i=o*a.ratio;Ye.setRatio(t,i,o),e.l={W:a.width,H:a.height,r:a.ratio,w:n.w,h:n.h}}return!0}function qe(t,n,e,a){return n!==e&&("vertical"===a?t<=n?"top":e<=t?"bottom":"top bottom":t<=n?"left":e<=t?"right":"left right")}function Ne(t,a,o){o=o||{},t.each(function(){var n,t=kn(this),e=t.data();e.clickOn||(e.clickOn=!0,kn.extend(I(t,{onStart:function(t){n=t,(o.onStart||ge).call(this,t)},onMove:o.onMove||ge,onTouchEnd:o.onTouchEnd||ge,onEnd:function(t){t.moved||a.call(this,n)}}),{noMove:!0}))})}function Ae(t,n){return'<div class="'+t+'">'+(n||"")+"</div>"}function Ie(t){return"."+t}function Le(t){for(var n=t.length;n;){var e=Math.floor(Math.random()*n--),a=t[n];t[n]=t[e],t[e]=a}return t}function Oe(t){return"[object Array]"==Object.prototype.toString.call(t)&&kn.map(t,function(t){return kn.extend({},t)})}function Re(t,n,e){t.scrollLeft(n||0).scrollTop(e||0)}function De(t){if(t){var e={};return kn.each(t,function(t,n){e[t.toLowerCase()]=n}),e}}function We(t){if(t){var n=+t;return isNaN(n)?(n=t.split("/"))[0]/n[1]||Pn:n}}function _(t,n,e,a){n&&(t.addEventListener?t.addEventListener(n,e,!!a):t.attachEvent("on"+n,e))}function Ke(t,n){return t>n.max?t=n.max:t<n.min&&(t=n.min),t}function He(t,n){return n?{disabled:t}:{tabindex:-1*t+"",disabled:t}}function Be(n,e){_(n,"keyup",function(t){(function(t){return!!t.getAttribute("disabled")})(n)||13==t.keyCode&&e.call(n,t)})}function Qe(n,e){_(n,"focus",n.onfocusin=function(t){e.call(n,t)},!0)}function Ve(t,n){t.preventDefault?t.preventDefault():t.returnValue=!1,n&&t.stopPropagation&&t.stopPropagation()}function Xe(t){return t?">":"<"}je.stop=function(t){je.ii[t]=!1};var y,x,C,k,P,Ye=(jQuery,{setRatio:function(t,n,e){n/e<=1?(t.parent().removeClass(a),t.parent().addClass(o)):(t.parent().removeClass(o),t.parent().addClass(a))},setThumbAttr:function(t,n,e){var a=e;t.attr(a)||t.attr(a)===Pn||t.attr(a,n),t.find("["+a+"]").length&&t.find("["+a+"]").each(function(){kn(this).attr(a,n)})},isExpectedCaption:function(t,n,e){var a,o=!1;return a=t.showCaption===e||!0===t.showCaption,!!n&&(t.caption&&a&&(o=!0),o)}});function Je(t,n){function e(){a&&a.sliding&&(a.sliding=!1),(n.onEnd||ge)()}var a=t.data(),o=Math.round(n.pos);void 0!==n.overPos&&n.overPos!==n.pos&&(o=n.overPos);var i=kn.extend(_e(o,n.direction),n.width&&{width:n.width},n.height&&{height:n.height});a&&a.sliding&&(a.sliding=!0),ue?(t.css(kn.extend(ye(n.time),i)),10<n.time?function(t,n,e,a){var o,i=t.data();i&&(i.onEndFn=function(){o||(o=!0,clearTimeout(i.tT),e())},i.tProp=n,clearTimeout(i.tT),i.tT=setTimeout(function(){i.onEndFn()},1.5*a),w(t))}(t,"transform",e,n.time):e()):t.stop().animate(i,n.time,v,e)}function S(t){var n=(t.touches||[])[0]||t;t._x=n.pageX||n.originalEvent.pageX,t._y=n.clientY||n.originalEvent.clientY,t._now=kn.now()}function I(t,r){var s,u,e,a,l,n,o,c,d,h,f=t[0],m={};function i(t){if(e=kn(t.target),m.checked=n=o=c=h=!1,s||m.flow||t.touches&&1<t.touches.length||1<t.which||y&&y.type!==t.type&&C||(n=r.select&&e.is(r.select,f)))return n;l="touchstart"===t.type,o=e.is("a, a *",f),c=e.hasClass("disableSwipe"),a=m.control,d=m.noMove||m.noSwipe||a?16:m.snap?0:4,S(t),u=y=t,x=t.type.replace(/down|start/,"move").replace(/Down/,"Move"),(r.onStart||ge).call(f,t,{control:a,$target:e}),s=m.flow=!0,c||l&&!m.go||Ve(t)}function v(t){if(t.touches&&1<t.touches.length||de&&!t.isPrimary||x!==t.type||!s)return s&&g(),void(r.onTouchEnd||ge)();if(!(c=kn(t.target).hasClass("disableSwipe"))){S(t);var n=Math.abs(t._x-u._x),e=Math.abs(t._y-u._y),a=n-e,o=(m.go||m.x||0<=a)&&!m.noSwipe,i=a<0;l&&!m.checked?(s=o)&&Ve(t):(Ve(t),p(n,e)&&(r.onMove||ge).call(f,t,{touch:l})),!h&&p(n,e)&&Math.sqrt(Math.pow(n,2)+Math.pow(e,2))>d&&(h=!0),m.checked=m.checked||o||i}}function p(t,n){return n<t&&1.5<t}function g(t){(r.onTouchEnd||ge)();var n=s;m.control=s=!1,n&&(m.flow=!1),!n||o&&!m.checked||(t&&Ve(t),C=!0,clearTimeout(k),k=setTimeout(function(){C=!1},1e3),(r.onEnd||ge).call(f,{moved:h,$target:e,control:a,touch:l,startEvent:u,aborted:!t||"MSPointerCancel"===t.type}))}function w(){m.flow&&(m.flow=!1)}de?(_(f,"MSPointerDown",i),_(Cn,"MSPointerMove",v),_(Cn,"MSPointerCancel",g),_(Cn,"MSPointerUp",g)):(_(f,"touchstart",i),_(f,"touchmove",v),_(f,"touchend",g),_(Cn,"touchstart",function(){m.flow||(m.flow=!0)}),_(Cn,"touchend",w),_(Cn,"touchcancel",w),re.on("scroll",w),t.on("mousedown pointerdown",i),se.on("mousemove pointermove",v).on("mouseup pointerup",g));var b="ontouchstart"in Cn.documentElement;return P=b?"a":"div",t.on("click",P,function(t){m.checked&&Ve(t)}),m}function Ue(_,y){var e,x,C,k,a,P,o,S,T,F,M,E,$,i,j,z=_[0],r=_.data(),q={};function N(t,n){j=!0,e=x="vertical"===E?t._y:t._x,o=t._now,P=[[o,e]],C=k=q.noMove||n?0:Se(_,(y.getPos||ge)()),(y.onStart||ge).call(z,t)}return q=kn.extend(I(y.$wrap,kn.extend({},y,{onStart:function(t,n){T=q.min,F=q.max,M=q.snap,E=q.direction||"horizontal",_.navdir=E,$=t.altKey,j=i=!1,n.control||r.sliding||N(t)},onMove:function(t,n){q.noSwipe||(j||N(t),x="vertical"===E?t._y:t._x,P.push([t._now,x]),a=qe(k=C-(e-x),T,F,E),k<=T?k=b(k,T):F<=k&&(k=b(k,F)),q.noMove||(_.css(_e(k,E)),i||(i=!0,n.touch||de||_.addClass(A)),(y.onMove||ge).call(z,t,{pos:k,edge:a})))},onEnd:function(t){if(!q.noSwipe||!t.moved){j||N(t.startEvent,!0),t.touch||de||_.removeClass(A);for(var n,e,a,o,i,r,s,u,l,c=(S=kn.now())-250,d=null,h=300,f=y.friction,m=P.length-1;0<=m;m--){if(n=P[m][0],e=Math.abs(n-c),null===d||e<a)d=n,o=P[m][1];else if(d===c||a<e)break;a=e}s=we(k,T,F);var v=o-x,p=0<=v,g=S-d,w=250<g,b=!w&&k!==C&&s===k;M&&(s=we(Math[b?p?"floor":"ceil":"round"](k/M)*M,T,F),T=F=s),b&&(M||s===k)&&(l=-v/g,h*=we(Math.abs(l),y.timeLow,y.timeHigh),i=Math.round(k+l*h/f),M||(s=i),(!p&&F<i||p&&i<T)&&(r=p?T:F,M||(s=r),u=we(s+.03*(u=i-r),r-50,r+50),h=Math.abs((k-u)/(l/f)))),h*=$?10:1,(y.onEnd||ge).call(z,kn.extend(t,{moved:t.moved||w&&M,pos:k,newPos:s,overPos:u,time:h,dir:E}))}}})),q)}function Ge(t,u){var l,c,d,n=t[0],h={prevent:{}};return _(n,m,function(t){var n=t.wheelDeltaY||-1*t.deltaY||0,e=t.wheelDeltaX||-1*t.deltaX||0,a=Math.abs(e)&&!Math.abs(n),o=Xe(e<0),i=c===o,r=kn.now(),s=r-d<250;c=o,d=r,a&&h.ok&&(!h.prevent[o]||l)&&(Ve(t,!0),l&&i&&s||(u.shift&&(l=!0,clearTimeout(h.t),h.t=setTimeout(function(){l=!1},1400)),(u.onEnd||ge)(t,u.shift?o:e)))}),h}function Ze(){kn.each(kn.Fotorama.instances,function(t,n){n.index=t})}jQuery.Fotorama=function(a,b){oe=kn("html"),ie=kn("body");var _,y,n,s,d,r,u,l,c,e,o,i,h,f,m,v,p,g,w,x,C,k,P,S,T,F,M,E,t,$,j,z,q,N,A,I,L=this,O=kn.now(),R=Sn+O,D=a[0],W=1,K=a.data(),H=kn("<style></style>"),B=kn(Ae("fotorama--hidden")),Q=a.find(Ie(Fn)),V=Q.find(Ie(En)),X=(V[0],a.find(".fotorama__stage__shaft")),Y=kn(),J=a.find(".fotorama__arr--prev"),U=a.find(".fotorama__arr--next"),G=a.find(Ie(zn)),Z=a.find(Ie(An)),tt=Z.find(Ie(Nn)),nt=tt.find(".fotorama__nav__shaft"),et=kn(),at=kn(),ot=(X.data(),nt.data(),a.find(".fotorama__thumb-border")),it=a.find(".fotorama__thumb__arr--left"),rt=a.find(".fotorama__thumb__arr--right"),st=a.find(".fotorama__fullscreen-icon"),ut=st[0],lt=kn(Ae(ne)),ct=a.find(".fotorama__video-close")[0],dt=a.find(Ie(ee)),ht=!1,ft={},mt={},vt={},pt={},gt={},wt={},bt={},_t=0,yt=[];function xt(){kn.each(_,function(t,n){if(!n.i){n.i=W++;var e=Me(n.video,!0);if(e){var a={};n.video=e,n.img||n.thumb?n.thumbsReady=!0:a=function(n,e,a){var t,o,i=n.video;return"youtube"===i.type?(t=(o=Fe()+"img.youtube.com/vi/"+i.id+"/default.jpg").replace(/\/default.jpg$/,"/hqdefault.jpg"),n.thumbsReady=!0):"vimeo"===i.type?kn.getJSON(Fe()+"vimeo.com/api/oembed.json",{url:"//vimeo.com/"+i.id},function(t){n.thumbsReady=!0,Ee(e,{img:t.thumbnail_url,thumb:t.thumbnail_url},n.i,a)}):n.thumbsReady=!0,{img:t,thumb:o}}(n,_,L),Ee(_,{img:a.img,thumb:a.thumb},n.i,L)}}})}function Ct(t){return M[t]}function kt(){if(V!==Pn)if("vertical"==b.navdir&&1<y){var t=b.thumbwidth+b.thumbmargin;V.css("left",t),Q.find("."+Wn).css({marginBottom:b.thumbmargin+"px",marginRight:b.thumbmargin+"px",height:b.thumbheight+"px"}),tt.css("marginTop","")}else V.css("left",""),Q.find("."+Wn).css({marginBottom:"",marginRight:b.thumbmargin+"px",height:b.thumbheight+"px"}),tt.css("marginTop",b.thumbmargin+"px")}function Pt(t){t!==Pt.f&&(t?(a.addClass(Sn+" "+R).before(B).before(H),function(t){kn.Fotorama.instances.push(t),Ze()}(L)):(B.detach(),H.detach(),a.html(K.urtext).removeClass(R),function(t){kn.Fotorama.instances.splice(t.index,1),Ze()}(L)),function(t){var a,n="keydown."+Sn,e=Sn+O,o="keydown."+e,i="keyup."+e,r="resize."+e+" orientationchange."+e;t?(se.on(o,function(t){var n,e;s&&27===t.keyCode?hn(s,n=!0,!0):(L.fullScreen||b.keyboard&&!L.index)&&(27===t.keyCode?(n=!0,L.cancelFullScreen()):t.shiftKey&&32===t.keyCode&&Ct("space")||!t.altKey&&!t.metaKey&&37===t.keyCode&&Ct("left")||38===t.keyCode&&Ct("up")&&kn(":focus").attr("data-gallery-role")?(L.longPress.progress(),e="<"):32===t.keyCode&&Ct("space")||!t.altKey&&!t.metaKey&&39===t.keyCode&&Ct("right")||40===t.keyCode&&Ct("down")&&kn(":focus").attr("data-gallery-role")?(L.longPress.progress(),e=">"):36===t.keyCode&&Ct("home")?(L.longPress.progress(),e="<<"):35===t.keyCode&&Ct("end")&&(L.longPress.progress(),e=">>")),(n||e)&&Ve(t),a={index:e,slow:t.altKey,user:!0},e&&(L.longPress.inProgress?L.showWhileLongPress(a):L.show(a))}),t&&se.on(i,function(t){L.longPress.inProgress&&L.showEndLongPress({user:!0}),L.longPress.reset()}),L.index||se.off(n).on(n,"textarea, input, select",function(t){ie.hasClass(Tn)||t.stopPropagation()}),re.on(r,L.resize)):(se.off(o),re.off(r))}(t),Pt.f=t)}function St(){var t=y<2||s;mt.noMove=t||x,mt.noSwipe=t||!b.swipe,S||X.toggleClass(jn,!b.click&&!mt.noMove&&!mt.noSwipe),de&&Q.toggleClass("fotorama__wrap--pan-y",!mt.noSwipe)}function Tt(t){!0===t&&(t=""),b.autoplay=Math.max(+t||5e3,5*P)}function Ft(t,n){return Math.floor(Q.width()/(n.thumbwidth+n.thumbmargin))}function Mt(){b.nav&&"dots"!==b.nav||(b.navdir="horizontal"),L.options=b=De(b),ve=Ft(0,b),x="crossfade"===b.transition||"dissolve"===b.transition,f=b.loop&&(2<y||x&&(!S||"slide"!==S)),P=+b.transitionduration||300,F="rtl"===b.direction,M=kn.extend({},b.keyboard&&pe,b.keyboard),function(t){t.navarrows&&"thumbs"===t.nav?(it.show(),rt.show()):(it.hide(),rt.hide())}(b);var e={add:[],remove:[]};function t(t,n){e[t?"add":"remove"].push(n)}1<y?(m=b.nav,p="top"===b.navposition,e.remove.push(Vn),G.toggle(!!b.arrows)):(m=!1,G.hide()),Qt(),Xt(),Vt(),b.autoplay&&Tt(b.autoplay),C=xe(b.thumbwidth)||64,k=xe(b.thumbheight)||64,vt.ok=gt.ok=b.trackpad&&!ce,St(),nn(b,[ft]),v="thumbs"===m,Z.filter(":hidden")&&m&&Z.show(),v?(Rt(y,"navThumb"),n=at,I=me,tt.addClass(Dn).removeClass(Rn)):"dots"===m?(Rt(y,"navDot"),n=et,I=fe,tt.addClass(Rn).removeClass(Dn)):(Z.hide(),m=!1,tt.removeClass(Dn+" "+Rn)),m&&(p?Z.insertBefore(V):Z.insertAfter(V),Ht.nav=!1,Ht(n,nt,"nav")),(g=b.allowfullscreen)?(st.prependTo(V),w=le&&"native"===g,function(t,n){/ip(ad|hone|od)/i.test(xn.navigator.userAgent)&&"touchend"===n&&t.on("touchend",function(t){se.trigger("mouseup",t)}),t.on(n,function(t){return Ve(t,!0),!1})}(st,"touchend")):(st.detach(),w=!1),t(x,"fotorama__wrap--fade"),t(!x,"fotorama__wrap--slide"),t(!b.captions,"fotorama__wrap--no-captions"),t(F,"fotorama__wrap--rtl"),t(b.arrows,"fotorama__wrap--toggle-arrows"),t(!(T=b.shadows&&!ce),"fotorama__wrap--no-shadows"),Q.addClass(e.add.join(" ")).removeClass(e.remove.join(" ")),kn.extend({},b),kt()}function Et(t){return t<0?(y+t%y)%y:y<=t?t%y:t}function $t(t){return we(t,0,y-1)}function jt(t){return f?Et(t):$t(t)}function zt(t){return!!(0<t||f)&&t-1}function qt(t){return!!(t<y-1||f)&&t+1}function Nt(t,i,r){if("number"==typeof t){t=new Array(t);var s=!0}return kn.each(t,function(t,n){if(s&&(n=t),"number"==typeof n){var e=_[Et(n)];if(e){var a="$"+i+"Frame",o=e[a];r.call(this,t,n,e,o,a,o&&o.data())}}})}function At(t,n,e,a){E&&("*"!==E||a!==h)||(t=ke(b.width)||ke(t)||500,n=ke(b.height)||ke(n)||333,L.resize({width:t,ratio:b.ratio||e||t/n},0,a!==h&&"*"))}function It(t,p,g,w){Nt(t,p,function(t,e,n,a,o,i){if(a){var r=L.fullScreen&&!i.$full&&"stage"===p;if(!i.$img||w||r){var s=new Image,u=kn(s),l=u.data();i[r?"$full":"$img"]=u;var c="stage"===p?r?"full":"img":"thumb",d=n[c],h=r?n.img:n["stage"===p?"thumb":"img"];"navThumb"===p&&(a=i.$wrap),d?(kn.Fotorama.cache[d]?function t(){"error"===kn.Fotorama.cache[d]?m():"loaded"===kn.Fotorama.cache[d]?setTimeout(v,0):setTimeout(t,100)}():(kn.Fotorama.cache[d]="*",u.on("load",v).on("error",m)),i.state="",s.src=d,i.data.caption&&(s.alt=i.data.caption||""),i.data.full&&kn(s).data("original",i.data.full),Ye.isExpectedCaption(n,b.showcaption)&&kn(s).attr("aria-labelledby",n.labelledby)):m()}}function f(t){var n=Et(e);en(t,{index:n,src:d,frame:_[n]})}function m(){u.remove(),kn.Fotorama.cache[d]="error",n.html&&"stage"===p||!h||h===d?(!d||n.html||r?"stage"===p&&(a.trigger("f:load").removeClass(Jn+" "+Yn).addClass(Un),f("load"),At()):(a.trigger("f:error").removeClass(Jn).addClass(Yn),f("error")),i.state="error",!(1<y&&_[e]===n)||n.html||n.deleted||n.video||r||(n.deleted=!0,L.splice(e,1))):(n[c]=d=h,i.$full=null,It([e],p,g,!0))}function v(){var t=10;je(function(){return!N||!t--&&!ce},function(){kn.Fotorama.measures[d]=l.measures=kn.Fotorama.measures[d]||{width:s.width,height:s.height,ratio:s.width/s.height},At(l.measures.width,l.measures.height,l.measures.ratio,e),u.off("load error").addClass(r?Zn:Gn).attr("aria-hidden","false").prependTo(a),a.hasClass($n)&&!a.hasClass("fotorama-video-container")&&a.attr("href",u.attr("src")),ze(u,(kn.isFunction(g)?g():g)||ft),kn.Fotorama.cache[d]=i.state="loaded",setTimeout(function(){a.trigger("f:load").removeClass(Jn+" "+Yn).addClass(Un+" "+(r?"fotorama__loaded--full":"fotorama__loaded--img")),"stage"===p?f("load"):"auto"!==n.thumbratio&&(n.thumbratio||"auto"!==b.thumbratio)||(n.thumbratio=l.measures.ratio,_n())},0)})}})}function Lt(){var t=d[he];t&&!t.data().state&&(dt.addClass("loading-mask").html('<div class="loader"></div>'),t.on("f:load f:error",function(){t.off("f:load f:error"),dt.removeClass("loading-mask")}))}function Ot(t){Be(t,gn),Qe(t,function(){setTimeout(function(){Re(tt)},0),Ut({time:P,guessIndex:kn(this).data().eq,minMax:pt})})}function Rt(t,u){Nt(t,u,function(t,n,e,a,o,i){if(!a){a=e[o]=Q[o].clone(),(i=a.data()).data=e;var r=a[0],s="labelledby"+kn.now();"stage"===u?(e.html&&kn('<div class="fotorama__html"></div>').append(e._html?kn(e.html).removeAttr("id").html(e._html):e.html).appendTo(a),e.id&&(s=e.id||s),e.labelledby=s,Ye.isExpectedCaption(e,b.showcaption)&&kn(kn.Fotorama.jst.frameCaption({caption:e.caption,labelledby:s})).appendTo(a),e.video&&a.addClass("fotorama__stage__frame--video").append(lt.clone()),Qe(r,function(t){setTimeout(function(){Re(V)},0),vn({index:i.eq,user:!0},t)}),Y=Y.add(a)):"navDot"===u?(Ot(r),et=et.add(a)):"navThumb"===u&&(Ot(r),i.$wrap=a.children(":first"),at=at.add(a),e.video&&i.$wrap.append(lt.clone()))}})}function Dt(t,n){return t&&t.length&&ze(t,n)}function Wt(t){Nt(t,"stage",function(t,n,e,a,o,i){if(a){var r=Et(n);i.eq=r,bt[he][r]=a.css(kn.extend({left:x?0:Pe(n,ft.w,b.margin,u)},x&&ye(0))),function(t){return!kn.contains(Cn.documentElement,t)}(a[0])&&(a.appendTo(X),hn(e.$video)),Dt(i.$img,ft),Dt(i.$full,ft),!a.hasClass($n)||"false"===a.attr("aria-hidden")&&a.hasClass(Qn)||a.attr("aria-hidden","true")}})}function Kt(t,i){var r,s;"thumbs"!==m||isNaN(t)||(s=(r=-t)+ft.nw,"vertical"===b.navdir&&(t-=b.thumbheight,s=-t+ft.h),at.each(function(){function t(){return{h:k,w:n.w}}var n=kn(this).data(),e=n.eq,a=t(),o="vertical"===b.navdir?n.t>s:n.l>s;a.w=n.w,"vertical"!==b.navdir&&n.l+n.w<r||o||Dt(n.$img,a)||i&&It([e],"navThumb",t)}))}function Ht(t,n,e){if(!Ht[e]){var o="nav"===e&&v,i=0,r=0;n.append(t.filter(function(){for(var t,n=kn(this),e=n.data(),a=0,o=_.length;a<o;a++)if(e.data===_[a]){t=!0,e.eq=a;break}return t||n.remove()&&!1}).sort(function(t,n){return kn(t).data().eq-kn(n).data().eq}).each(function(){var t=kn(this),n=t.data();Ye.setThumbAttr(t,n.data.caption,"aria-label")}).each(function(){if(o){var t=kn(this),n=t.data(),e=Math.round(k*n.data.thumbratio)||C,a=Math.round(C/n.data.thumbratio)||k;n.t=r,n.h=a,n.l=i,n.w=e,t.css({width:e}),r+=a+b.thumbmargin,i+=e+b.thumbmargin}})),Ht[e]=!0}}function Bt(t){return!(f||ht+t&&ht-y+t||s)}function Qt(){var t=Bt(0),n=Bt(1);J.toggleClass(qn,t).attr(He(t,!1)),U.toggleClass(qn,n).attr(He(n,!1))}function Vt(){var t=!1,n=!1;if("thumbs"!==b.navtype||b.loop||(t=0==ht,n=ht==b.data.length-1),"slides"===b.navtype){var e=be(nt,b.navdir);t=e>=pt.max,n=e<=pt.min}it.toggleClass(qn,t).attr(He(t,!0)),rt.toggleClass(qn,n).attr(He(n,!0))}function Xt(){vt.ok&&(vt.prevent={"<":Bt(0),">":Bt(1)})}function Yt(t){var n,e,a,o,i=t.data();v?(n=i.l,e=i.t,a=i.w,o=i.h):(n=t.position().left,a=t.width());var r={c:n+a/2,min:-n+10*b.thumbmargin,max:-n+ft.w-a-10*b.thumbmargin},s={c:e+o/2,min:-e+10*b.thumbmargin,max:-e+ft.h-o-10*b.thumbmargin};return"vertical"===b.navdir?s:r}function Jt(t){var n=d[I].data();Je(ot,{time:1.2*t,pos:"vertical"===b.navdir?n.t:n.l,width:n.w,height:n.h,direction:b.navdir})}function Ut(t){var n,e,a,o,i,r,s,u,l=_[t.guessIndex][I],c=b.navtype;l&&("thumbs"===c?(n=pt.min!==pt.max,a=t.minMax||n&&Yt(d[I]),o=n&&(t.keep&&Ut.t?Ut.l:we((t.coo||ft.nw/2)-Yt(l).c,a.min,a.max)),i=n&&(t.keep&&Ut.l?Ut.l:we((t.coo||ft.nw/2)-Yt(l).c,a.min,a.max)),r="vertical"===b.navdir?o:i,s=n&&we(r,pt.min,pt.max)||0,e=1.1*t.time,Je(nt,{time:e,pos:s,direction:b.navdir,onEnd:function(){Kt(s,!0),Vt()}}),dn(tt,qe(s,pt.min,pt.max,b.navdir)),Ut.l=r):(u=be(nt,b.navdir),e=1.11*t.time,s=function(t,n,e,a,o,i,r){var s,u;return u="horizontal"===r?(s=t.thumbwidth,i.width()):(s=t.thumbheight,i.height()),Ke((s+t.margin)*(e+1)-t.margin>=u-a?"horizontal"===r?-o.position().left:-o.position().top:(s+t.margin)*e-t.margin<=Math.abs(a)?"horizontal"===r?-o.position().left+u-(s+t.margin):-o.position().top+u-(s+t.margin):a,n)||0}(b,pt,t.guessIndex,u,l,Z,b.navdir),Je(nt,{time:e,pos:s,direction:b.navdir,onEnd:function(){Kt(s,!0),Vt()}}),dn(tt,qe(s,pt.min,pt.max,b.navdir))))}function Gt(t){for(var n=wt[t];n.length;)n.shift().removeClass(Qn).attr("data-active",!1)}function Zt(t){var e=bt[t];kn.each(r,function(t,n){delete e[Et(n)]}),kn.each(e,function(t,n){delete e[t],n.detach()})}function tn(t){u=l=ht;var n=d[he];n&&(Gt(he),wt[he].push(n.addClass(Qn).attr("data-active",!0)),n.hasClass($n)&&n.attr("aria-hidden","false"),t||L.showStage.onEnd(!0),Se(X,0),Zt(he),Wt(r),mt.min=f?-1/0:-Pe(y-1,ft.w,b.margin,u),mt.max=f?1/0:-Pe(0,ft.w,b.margin,u),mt.snap=ft.w+b.margin,function(){var t="vertical"===b.navdir,n=t?nt.height():nt.width(),e=t?ft.h:ft.nw;pt.min=Math.min(0,e-n),pt.max=0,pt.direction=b.navdir,nt.toggleClass(jn,!(pt.noMove=pt.min===pt.max))}(),Be(X[0],function(){a.hasClass(Xn)||(L.requestFullScreen(),st.focus())}))}function nn(e,t){e&&kn.each(t,function(t,n){n&&kn.extend(n,{width:e.width||n.width,height:e.height,minwidth:e.minwidth,maxwidth:e.maxwidth,minheight:e.minheight,maxheight:e.maxheight,ratio:We(e.ratio)})})}function en(t,n){a.trigger(Sn+":"+t,[L,n])}function an(){clearTimeout(on.t),N=1,b.stopautoplayontouch?L.stopAutoplay():j=!0}function on(){N&&(b.stopautoplayontouch||(rn(),sn()),on.t=setTimeout(function(){N=0},550))}function rn(){j=!(!s&&!z)}function sn(){if(clearTimeout(sn.t),je.stop(sn.w),b.autoplay&&!j){L.autoplay||(L.autoplay=!0,en("startautoplay"));var e=ht,t=d[he].data();sn.w=je(function(){return t.state||e!==ht},function(){sn.t=setTimeout(function(){if(!j&&e===ht){var t=i,n=_[t][he].data();sn.w=je(function(){return n.state||t!==i},function(){j||t!==i||L.show(f?Xe(!F):i)})}},b.autoplay)})}else L.autoplay&&(L.autoplay=!1,en("stopautoplay"))}function un(t){var n;return"object"!=typeof t?(n=t,t={}):n=t.index,n=">"===n?l+1:"<"===n?l-1:"<<"===n?0:">>"===n?y-1:n,n=void 0===(n=isNaN(n)?Pn:n)?ht||0:n}function ln(t){L.activeIndex=ht=jt(t),e=zt(ht),o=qt(ht),i=Et(ht+(F?-1:1)),r=[ht,e,o],l=f?t:ht}function cn(t){var n=Math.abs(c-l),e=Te(t.time,function(){return Math.min(P*(1+(n-1)/12),2*P)});return t.slow&&(e*=10),e}function dn(t,n){T&&(t.removeClass("fotorama__shadows--left fotorama__shadows--right"),t.removeClass("fotorama__shadows--top fotorama__shadows--bottom"),n&&!s&&t.addClass(n.replace(/^|\s/g," "+Bn+"--")))}function hn(t,n,e){n&&(Q.removeClass(Mn),s=!1,St()),t&&t!==s&&(t.remove(),en("unloadvideo")),e&&(rn(),sn())}function fn(t){Q.toggleClass("fotorama__wrap--no-controls",t)}function mn(t){if(!mt.flow){var n=t?t.pageX:mn.x,e=n&&!Bt(function(t){return t-_t>ft.w/3}(n))&&b.click;mn.p!==e&&V.toggleClass("fotorama__pointer",e)&&(mn.p=e,mn.x=n)}}function vn(n,t){clearTimeout(vn.t),b.clicktransition&&b.clicktransition!==b.transition?setTimeout(function(){var t=b.transition;L.setOptions({transition:b.clicktransition}),S=t,vn.t=setTimeout(function(){L.show(n)},10)},0):L.show(n,t)}function pn(t,n){mt[t]=pt[t]=n}function gn(t){var n=kn(this).data().eq;"thumbs"===b.navtype?vn({index:n,slow:t.altKey,user:!0,coo:t._x-tt.offset().left}):vn({index:n,slow:t.altKey,user:!0})}function wn(t){vn({index:G.index(this)?">":"<",slow:t.altKey,user:!0})}function bn(t){Qe(t,function(){setTimeout(function(){Re(V)},0),fn(!1)})}function _n(){if(_=L.data=_||Oe(b.data)||$e(a),y=L.size=_.length,yn.ok&&b.shuffle&&Le(_),xt(),ht=$t(ht),y&&Pt(!0),Mt(),!_n.i){_n.i=!0;var t=b.startindex;ht=u=l=c=h=jt(t)||0}if(y){if(function t(){if(!t.f===F)return t.f=F,ht=y-1-ht,L.reverse(),!0}())return;s&&hn(s,!0),r=[],Zt(he),_n.ok=!0,L.show({index:ht,time:0}),L.resize()}else L.destroy()}function yn(){yn.ok&&(yn.ok=!1,en("ready"))}Q[he]=kn('<div class="'+$n+'"></div>'),Q[me]=kn(kn.Fotorama.jst.thumb()),Q[fe]=kn(kn.Fotorama.jst.dots()),wt[he]=[],wt[me]=[],wt[fe]=[],bt[he]={},Q.addClass(ue?"fotorama__wrap--css3":"fotorama__wrap--css2"),K.fotorama=this,L.startAutoplay=function(t){return L.autoplay||(j=z=!1,Tt(t||b.autoplay),sn()),this},L.stopAutoplay=function(){return L.autoplay&&(j=z=!0,sn()),this},L.showSlide=function(t){var n,e=be(nt,b.navdir),a="horizontal"===b.navdir?b.thumbwidth:b.thumbheight;"next"===t&&(n=e-(a+b.margin)*ve-b.margin),"prev"===t&&(n=e+(a+b.margin)*ve-b.margin),Kt(n=Ke(n,pt),!0),Je(nt,{time:550,pos:n,direction:b.navdir,onEnd:function(){Vt()}})},L.showWhileLongPress=function(t){if(!L.longPress.singlePressInProgress){ln(un(t));var n=cn(t)/50,e=d;L.activeFrame=d=_[ht];var a=e===d&&!t.user;return L.showNav(a,t,n),this}},L.showEndLongPress=function(t){if(!L.longPress.singlePressInProgress){ln(un(t));var n=cn(t)/50,e=d;L.activeFrame=d=_[ht];var a=e===d&&!t.user;return L.showStage(a,t,n),void 0!==c&&c!==ht,c=ht,this}},L.showStage=function(n,e,t,a){if(a===Pn||"IFRAME"!=a.target.tagName){hn(s,d.i!==_[Et(u)].i),Rt(r,"stage"),Wt(ce?[l]:[l,zt(l),qt(l)]),pn("go",!0),n||en("show",{user:e.user,time:t}),j=!0;var o=e.overPos,i=L.showStage.onEnd=function(t){if(!i.ok){if(i.ok=!0,t||tn(!0),n||en("showend",{user:e.user}),!t&&S&&S!==b.transition)return L.setOptions({transition:S}),void(S=!1);Lt(),It(r,"stage"),pn("go",!1),Xt(),mn(),rn(),sn(),L.fullScreen?(d[he].find("."+Zn).attr("aria-hidden",!1),d[he].find("."+Gn).attr("aria-hidden",!0)):(d[he].find("."+Zn).attr("aria-hidden",!0),d[he].find("."+Gn).attr("aria-hidden",!1))}};if(x)!function n(t,e,a,o,i,r){var s=void 0!==r;if(s||(i.push(arguments),Array.prototype.push.call(arguments,i.length),!(1<i.length))){t=t||kn(t),e=e||kn(e);var u=t[0],l=e[0],c="crossfade"===o.method,d=function(){if(!d.done){d.done=!0;var t=(s||i.shift())&&i.shift();t&&n.apply(this,t),(o.onEnd||ge)(!!t)}},h=o.time/(r||1);a.removeClass(Hn+" "+Kn),t.stop().addClass(Hn),e.stop().addClass(Kn),c&&l&&t.fadeTo(0,0),t.fadeTo(c?h:0,1,c&&d),e.fadeTo(h,0,d),u&&c||l||d()}}(d[he],_[c]&&ht!==c?_[c][he]:null,Y,{time:t,method:b.transition,onEnd:i},yt);else Je(X,{pos:-Pe(l,ft.w,b.margin,u),overPos:o,time:t,onEnd:i});Qt()}},L.showNav=function(t,n,e){if(Vt(),m){Gt(I),wt[I].push(d[I].addClass(Qn).attr("data-active",!0));var a=$t(ht+we(l-c,-1,1));Ut({time:e,coo:a!==ht&&n.coo,guessIndex:void 0!==n.coo?a:ht,keep:t}),v&&Jt(e)}},L.show=function(t,n){L.longPress.singlePressInProgress=!0,ln(un(t));var e=cn(t),a=d;L.activeFrame=d=_[ht];var o=a===d&&!t.user;return L.showStage(o,t,e,n),L.showNav(o,t,e),void 0!==c&&c!==ht,c=ht,L.longPress.singlePressInProgress=!1,this},L.requestFullScreen=function(){if(g&&!L.fullScreen){if(kn((L.activeFrame||{}).$stageFrame||{}).hasClass("fotorama-video-container"))return;t=re.scrollTop(),$=re.scrollLeft(),Re(re),pn("x",!0),q=kn.extend({},ft),a.addClass(Xn).appendTo(ie.addClass(Tn)),oe.addClass(Tn),hn(s,!0,!0),L.fullScreen=!0,w&&ae.request(D),L.resize(),It(r,"stage"),Lt(),en("fullscreenenter"),"ontouchstart"in xn||st.focus()}return this},L.cancelFullScreen=function(){return w&&ae.is()?ae.cancel(Cn):L.fullScreen&&(L.fullScreen=!1,le&&ae.cancel(D),ie.removeClass(Tn),oe.removeClass(Tn),a.removeClass(Xn).insertAfter(B),ft=kn.extend({},q),hn(s,!0,!0),pn("x",!1),L.resize(),It(r,"stage"),Re(re,$,t),en("fullscreenexit")),this},L.toggleFullScreen=function(){return L[(L.fullScreen?"cancel":"request")+"FullScreen"]()},L.resize=function(t){if(!_)return this;var n=arguments[1]||0,e=arguments[2];ve=Ft(0,b),nn(L.fullScreen?{width:kn(xn).width(),maxwidth:null,minwidth:null,height:kn(xn).height(),maxheight:null,minheight:null}:De(t),[ft,e||L.fullScreen||b]);var a=ft.width,o=ft.height,i=ft.ratio,r=re.height()-(m?tt.height():0);if(ke(a)&&(Q.css({width:""}),Q.css({height:""}),V.css({width:""}),V.css({height:""}),X.css({width:""}),X.css({height:""}),tt.css({width:""}),tt.css({height:""}),Q.css({minWidth:ft.minwidth||0,maxWidth:ft.maxwidth||1200}),"dots"===m&&Z.hide(),a=ft.W=ft.w=Q.width(),ft.nw=m&&Ce(b.navwidth,a)||a,X.css({width:ft.w,marginLeft:(ft.W-ft.w)/2}),o=(o=Ce(o,r))||i&&a/i)){if(a=Math.round(a),o=ft.h=Math.round(we(o,Ce(ft.minheight,r),Ce(ft.maxheight,r))),"vertical"==b.navdir&&1<y){var s=a-(b.thumbwidth+b.thumbmargin),u=s*o/a;a=s,o=ft.h=u,X.css({width:a})}if(V.css({width:a,height:o}),"vertical"!==b.navdir||L.fullscreen||tt.width(b.thumbwidth),"horizontal"!==b.navdir||L.fullscreen||tt.height(b.thumbheight),"dots"===m&&(tt.width(a).height("auto"),Z.show()),"vertical"===b.navdir&&L.fullScreen&&V.css("height",re.height()),"horizontal"===b.navdir&&L.fullScreen&&V.css("height",re.height()-tt.height()),m){switch(b.navdir){case"vertical":Z.removeClass(On),Z.removeClass(Ln),Z.addClass(In),tt.stop().animate({height:o,width:b.thumbwidth},n);break;case"list":Z.removeClass(In),Z.removeClass(On),Z.addClass(Ln);break;default:Z.removeClass(In),Z.removeClass(Ln),Z.addClass(On),tt.stop().animate({width:ft.nw},n)}tn(),Ut({guessIndex:ht,time:n,keep:!0}),v&&Ht.nav&&Jt(n)}E=e||!0,yn.ok=!0,yn()}return _t=V.offset().left,kt(),this},L.setOptions=function(t){return kn.extend(b,t),_n(),this},L.shuffle=function(){return _&&Le(_)&&_n(),this},L.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},L.destroy=function(){return L.cancelFullScreen(),L.stopAutoplay(),_=L.data=null,Pt(),r=[],Zt(he),_n.ok=!1,this},L.playVideo=function(){var t=d,n=t.video,e=ht;return"object"==typeof n&&t.videoReady&&(w&&L.fullScreen&&L.cancelFullScreen(),je(function(){return!ae.is()||e!==ht},function(){e===ht&&(t.$video=t.$video||kn(Ae(te)).append(function(t){return'<iframe src="'+t.p+t.type+".com/embed/"+t.id+'" frameborder="0" allowfullscreen></iframe>'}(n)),t.$video.appendTo(t[he]),Q.addClass(Mn),s=t.$video,St(),G.blur(),st.blur(),en("loadvideo"))})),this},L.stopVideo=function(){return hn(s,!0,!0),this},L.spliceByIndex=function(t,n){n.i=t+1,n.img&&kn.ajax({url:n.img,type:"HEAD",success:function(){_.splice(t,1,n),_n()}})},V.on("mousemove",mn),mt=Ue(X,{onStart:an,onMove:function(t,n){dn(V,n.edge)},onTouchEnd:on,onEnd:function(t){var n;if(dn(V),n=(de&&!A||t.touch)&&b.arrows,(t.moved||n&&t.pos!==t.newPos&&!t.control)&&t.$target[0]!==st[0]){var e=function(t,n,e,a){return-Math.round(t/(n+(e||0))-(a||0))}(t.newPos,ft.w,b.margin,u);L.show({index:e,time:x?P:t.time,overPos:t.overPos,user:!0})}else t.aborted||t.control||function(t){var n=t.target;kn(n).hasClass(ne)?L.playVideo():n===ut?L.toggleFullScreen():s?n===ct&&hn(s,!0,!0):a.hasClass(Xn)||L.requestFullScreen()}(t.startEvent)},timeLow:1,timeHigh:1,friction:2,select:"."+Vn+", ."+Vn+" *",$wrap:V,direction:"horizontal"}),pt=Ue(nt,{onStart:an,onMove:function(t,n){dn(tt,n.edge)},onTouchEnd:on,onEnd:function(t){function n(){Ut.l=t.newPos,rn(),sn(),Kt(t.newPos,!0),Vt()}if(t.moved)t.pos!==t.newPos?(j=!0,Je(nt,{time:t.time,pos:t.newPos,overPos:t.overPos,direction:b.navdir,onEnd:n}),Kt(t.newPos),T&&dn(tt,qe(t.newPos,pt.min,pt.max,t.dir))):n();else{var e=t.$target.closest("."+Wn,nt)[0];e&&gn.call(e,t.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:tt,direction:b.navdir}),vt=Ge(V,{shift:!0,onEnd:function(t,n){an(),on(),L.show({index:n,slow:t.altKey})}}),gt=Ge(tt,{onEnd:function(t,n){an(),on();var e=Se(nt)+.25*n;nt.css(_e(we(e,pt.min,pt.max),b.navdir)),T&&dn(tt,qe(e,pt.min,pt.max,b.navdir)),gt.prevent={"<":e>=pt.max,">":e<=pt.min},clearTimeout(gt.t),gt.t=setTimeout(function(){Kt(Ut.l=e,!0)},250),Kt(e)}}),Q.hover(function(){setTimeout(function(){N||fn(!(A=!0))},0)},function(){A&&fn(!(A=!1))}),Ne(G,function(t){Ve(t),wn.call(this,t)},{onStart:function(){an(),mt.control=!0},onTouchEnd:on}),Ne(it,function(t){Ve(t),"thumbs"===b.navtype?L.show("<"):L.showSlide("prev")}),Ne(rt,function(t){Ve(t),"thumbs"===b.navtype?L.show(">"):L.showSlide("next")}),G.each(function(){Be(this,function(t){wn.call(this,t)}),bn(this)}),Be(ut,function(){a.hasClass(Xn)?(L.cancelFullScreen(),X.focus()):(L.requestFullScreen(),st.focus())}),bn(ut),kn.each("load push pop shift unshift reverse sort splice".split(" "),function(t,n){L[n]=function(){return _=_||[],"load"!==n?Array.prototype[n].apply(_,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(_=Oe(arguments[0])),_n(),L}}),_n()},kn.fn.fotorama=function(o){return this.each(function(){var t=this,n=kn(this),e=n.data(),a=e.fotorama;a?a.setOptions(o,!0):je(function(){return!function(t){return 0===t.offsetWidth&&0===t.offsetHeight}(t)},function(){e.urtext=n.html(),new kn.Fotorama(n,kn.extend({},p,xn.fotoramaDefaults,o,e))})})},kn.Fotorama.instances=[],kn.Fotorama.cache={},kn.Fotorama.measures={},(kn=kn||{}).Fotorama=kn.Fotorama||{},kn.Fotorama.jst=kn.Fotorama.jst||{},kn.Fotorama.jst.dots=function(t){return'<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>','<div class="fotorama__nav__frame fotorama__nav__frame--dot" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__dot"></div>\r\n</div>'},kn.Fotorama.jst.frameCaption=function(t){var n,e="";return e+='<div class="fotorama__caption" aria-hidden="true">\r\n    <div class="fotorama__caption__wrap" id="'+(null==(n=t.labelledby)?"":n)+'">'+(null==(n=t.caption)?"":n)+"</div>\r\n</div>\r\n"},kn.Fotorama.jst.thumb=function(t){return'<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>','<div class="fotorama__nav__frame fotorama__nav__frame--thumb" tabindex="0" role="button" data-gallery-role="nav-frame" data-nav-type="thumb" aria-label>\r\n    <div class="fotorama__thumb">\r\n    </div>\r\n</div>'}}(window,document,location,"undefined"!=typeof jQuery&&jQuery);